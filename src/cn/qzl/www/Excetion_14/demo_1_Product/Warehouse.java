package cn.qzl.www.Excetion_14.demo_1_Product;/** * @Author qzl * @Description * 仓库 * @Since 2020-05-07 18:09 */public class Warehouse {    //仓库容量为10    private Product []products = new Product[10];    //top初始指向仓库0号位    private int top;    public Warehouse() {        this.top = 0;    }    //放产品    public synchronized void push(Product p){        //仓库满，生产者等待        while(top==products.length) {            try {                System.out.println("仓库以满，生产者等待!");                wait();            } catch (InterruptedException e) {                e.printStackTrace();            }        }        //仓库不满，开始生产        System.out.println(Thread.currentThread().getName()+"生产了产品"+p);        products[top++] = p;        notifyAll();        try {            Thread.sleep(10);        } catch (InterruptedException e) {            e.printStackTrace();        }        //System.out.println(Thread.currentThread().getName()+"notifyAll");        //System.out.println("仓库不满，开始生产");        }    //取出产品    public synchronized void pop(){        //仓库空，等待        while (top==0) {            try {                System.out.println("仓库空，消费者"+Thread.currentThread().getName()+"等待");                wait();            } catch (InterruptedException e) {                e.printStackTrace();            }    }        //仓库不空，开始取出产品        --top;        Product p = products[top];        System.out.println(Thread.currentThread().getName()+"取出产品->>"+p);        products[top] = null;        notifyAll();        //System.out.println(Thread.currentThread().getName()+"notifyAll");        //System.out.println("仓库不空，开始取出产品");    }}